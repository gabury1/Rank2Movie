<html layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml">  <!--템플릿 상속-->
<div layout:fragment="content" class="container">   <!-- layout의 content fragment에 삽입 -->


        <link rel="stylesheet" href="/css/movie/detail.css" />
    <div class="container">
        <div class="movieWrapper">
            <img src="/image/3351384.png" alt="" class="posterImage" />
            <div class="movieInfoBox">
                <h1>아무튼 개쩌는 영화</h1>
                <ul>
                    <li>스티브 존 애덤스</li>
                    <li>2022.22.22</li>
                    <li>코카콜라</li>
                    <li>청소년시청불가</li>
                </ul>
            </div>
            <div class="movieSynopsysBox">
					<textarea readonly>
Lorem ipsum dolor, sit amet consectetur adipisicing elit. Omnis ratione mollitia accusamus similique exercitationem fugiat fugit voluptatum sint iste, necessitatibus molestias ut perspiciatis error quae, quo perferendis alias animi expedita voluptate? Eligendi non quia voluptas temporibus vero nisi sed deserunt blanditiis architecto, recusandae ut cumque labore? Sit laudantium laboriosam voluptates libero officia? Quaerat, facere temporibus nostrum dolorum rem, magnam minus laborum vitae id quibusdam officiis nobis eligendi eum assumenda a dolores voluptates qui nisi distinctio aperiam perspiciatis consequatur veniam. Id sed nam, doloremque accusamus, et quae voluptatum tempora nulla illo ea ex officiis autem dolor dignissimos reprehenderit, molestias modi repellendus. Non totam consequatur laudantium atque odio voluptatum dolore ipsum optio sapiente ut. Inventore praesentium exercitationem eius rerum obcaecati minima voluptas doloribus quam iure quos aliquid, nemo aspernatur, labore facilis deleniti saepe esse modi culpa atque soluta eligendi quidem corporis magnam? Alias, nulla impedit quas voluptas illum rerum hic sunt enim, officia tenetur, aliquid voluptatum dicta esse molestiae deleniti quam neque explicabo id eveniet aut quos harum non! Blanditiis deleniti impedit alias! Officia, quisquam magnam? Modi atque repudiandae temporibus fugiat pariatur eaque vero asperiores alias, repellendus perspiciatis quibusdam officiis unde explicabo aperiam architecto repellat odit cum magni nihil doloribus hic officia optio magnam. Officia ut minima iusto nesciunt rerum distinctio nisi ullam deleniti, deserunt at sapiente ipsum? Saepe beatae aliquam fugit tempore sequi laboriosam vitae blanditiis magni accusantium aut aperiam perspiciatis quae fugiat eos, expedita officia voluptate consequatur assumenda quisquam numquam tenetur maiores accusamus. Nostrum exercitationem vel cum nulla laboriosam suscipit necessitatibus ratione est asperiores, quas perferendis at sapiente deleniti itaque quasi, numquam fuga sit, quis officiis atque nam ipsum. Optio hic, ab a cupiditate odit maiores non sed error pariatur modi similique alias soluta incidunt itaque minima, explicabo nobis cum animi inventore quod harum fugiat ratione consequuntur asperiores. Aperiam debitis voluptates, quas quae non iure recusandae veniam itaque accusamus asperiores tempora ratione dolore illum repudiandae illo nesciunt, voluptatem adipisci dicta minima omnis ipsa! Nemo eum dolor, veniam nihil a modi dignissimos tenetur quos pariatur officia eaque distinctio omnis maiores ex repellat alias. Cumque, eos voluptatem! Non magnam nemo culpa, ipsam, consectetur rem voluptatum reprehenderit dolore eaque inventore aspernatur facilis distinctio laudantium sequi quam soluta cumque sunt ex qui fugit! Fuga aspernatur, quidem asperiores veniam ipsum corrupti expedita consequatur illum omnis ipsam? Nulla ipsam earum dolore harum aperiam officiis cum ex cupiditate eum perferendis vel quibusdam possimus minima distinctio at quae voluptate, non ab voluptas sed alias provident? Porro, deserunt blanditiis ipsam labore, consectetur maxime assumenda magnam esse quo dolores laborum, fugiat cum odio. Explicabo ratione rem unde nisi laboriosam vero mollitia, accusamus accusantium ea porro harum alias quidem consequuntur corrupti adipisci quas earum a eos voluptates iure quo eum doloribus. Ratione ab accusamus assumenda quis accusantium perferendis illo error amet nesciunt esse labore nulla, doloribus harum. Illo esse dicta ut aliquam porro officiis. Maxime mollitia a esse non error voluptates numquam nesciunt unde quo similique asperiores ipsum cumque velit itaque harum doloribus magnam odit, necessitatibus ullam accusantium provident enim assumenda. Fuga repudiandae commodi animi quod architecto fugit hic a quia nobis nesciunt quisquam corrupti suscipit natus voluptatum laudantium sapiente, molestiae atque quidem provident libero rem voluptatem blanditiis laborum! Ipsam excepturi culpa, beatae eius similique autem esse veniam molestias veritatis architecto dolore dolorum! Molestias totam ipsam dolorem numquam asperiores odit, quibusdam impedit corporis eveniet quos laudantium natus consectetur vel tempore sint tempora voluptatibus aspernatur ipsa aliquam! Ipsam, explicabo. Ipsa, aliquid! Dolorum sapiente ullam illo, optio veritatis officia eos officiis maxime tempore autem repellendus, voluptatem quae quasi! Corporis omnis laboriosam deleniti mollitia quibusdam ipsam quaerat vero! Quae ipsum repellat a, autem quia id debitis aut magni consectetur ex, sed cupiditate itaque, repudiandae quam veniam rem iusto nisi commodi corrupti deleniti ut nihil accusamus. Animi, praesentium incidunt totam hic id sint minima officia veniam quia assumenda deleniti, ipsum commodi eveniet. Laboriosam sequi tempora accusantium sed atque reprehenderit consequatur iure quia eligendi quisquam quidem, reiciendis quaerat, animi saepe ea voluptates sapiente debitis earum non nemo ducimus veniam? Dolore natus itaque harum vel nobis dolorem ab incidunt. Distinctio, odit facilis! Corrupti molestiae iste vero voluptas magnam impedit suscipit beatae, porro labore saepe tempora sit nam eligendi dolore earum sint ipsam aperiam? Necessitatibus, ex atque harum, fuga corporis excepturi ad voluptatibus maxime repellat, quaerat veritatis molestias accusamus. Quisquam aliquam est aperiam, id assumenda nulla numquam facere provident itaque magni nemo suscipit, ad voluptas? Deserunt beatae quae animi, laborum laboriosam, ut a error aliquam optio enim, fugiat explicabo aspernatur! Temporibus accusantium ducimus autem molestias magnam, nemo architecto aperiam inventore quo repellat asperiores labore accusamus, nisi cum? Illo quas iure, at voluptates ratione earum quasi quae doloremque dolor minus placeat? Eum dolorum, alias nihil quae quia corrupti eaque pariatur cupiditate assumenda deleniti odit et repellat reiciendis quasi? Corrupti veniam numquam quos quod temporibus, iste quibusdam, odio recusandae officia vel praesentium eius repellat eos doloribus placeat maiores nostrum repellendus, libero quam illo voluptas? Iure, delectus praesentium velit explicabo aut in impedit, dolores modi at laborum accusamus possimus reiciendis error! Beatae, ab similique atque quisquam quaerat facilis eius id aperiam delectus sint accusantium quos sit voluptate! Facere sunt quis repellat eos sequi. Reiciendis distinctio dicta, voluptate ipsam nemo mollitia! Itaque, porro numquam ea consectetur beatae autem suscipit deleniti dolores distinctio doloribus quaerat fuga quae et neque eos cumque a dolor eveniet? Ducimus officia consectetur sint animi itaque? Minima perferendis illo quae maxime, voluptate reiciendis laborum ipsa, eaque saepe, architecto numquam velit. Sunt sit eveniet consequuntur harum natus esse delectus recusandae quisquam, qui expedita consectetur deleniti saepe aut magnam quia hic modi adipisci aliquid? Fugit, autem perferendis suscipit ad quam sapiente laudantium inventore esse mollitia ratione iure sit iste facere aspernatur corrupti ab error omnis temporibus quisquam repellendus veritatis aperiam quos veniam ullam? Similique velit quo odio voluptates eos praesentium deleniti fugiat nemo, maiores nostrum aliquam sapiente aut sed dolor, quae incidunt! Autem facilis doloremque officia possimus molestias cum aperiam ipsum, laborum illo dolorem rerum repellat? Delectus soluta, repellat ipsa culpa dignissimos laudantium voluptas perspiciatis. Velit dignissimos debitis maxime excepturi consequuntur!</textarea
                    >
            </div>
        </div>

        <div class="boardWrapper">
            <iframe src="../movie/inserted_board.html" frameborder="0" width="100%" height="100%">크롬 브라우저를 이용해주세요.</iframe>
        </div>
    </div>


    <script>
        /*
        ** 영화 JSON 포맷(data.movie) **
        movieCode : 영화 코드
        titleKor : 한국 제목
        titleEn : 영어 제목
        genre : 장르('/'로 구분된 여러 장르들)
        actor : 배우 ('/'로 구분된 여러 장르들)

        showTime : 상영시간
        company : 배급사 등등의 이름
        director : 감독들
        productStatus : 제작상태(개봉/개봉예정)
        productYear : 제작년도
        nation : 국적

        imageUrl : 이미지 URL
        views : 조회수
        avrRation : 평가(평가가 없으면 null 처리 되도록 했다.)

        */

        const urlParams = new URL(location.href).searchParams;
        const code = urlParams.get('code');
        // test용
        console.log(code)

        $.ajax({
            url : "/movie/",
            data : {code : code},
            method : "GET",
            success : successFunc,
            error : e => alert(e.responseText)
        });


        // 이 함수만 보면 됨.
        function successFunc(data)
        {
            console.log(data);
            $(".movieInfoBox > h1").html(JSON.stringify(data.movie.titleKor));
            $(".genre").html(JSON.stringify(data.movie.genre));
            $(".company").html(JSON.stringify(data.movie.company));
            $(".director").html(JSON.stringify(data.movie.director));
            $(".productYear").src = JSON.stringify(data.movie.imageUrl);
        }
        

    </script>

</div>
</html>